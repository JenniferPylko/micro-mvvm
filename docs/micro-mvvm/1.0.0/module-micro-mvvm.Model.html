<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Model</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Model</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>
            <span class="ancestors"><a href="module-micro-mvvm.html">micro-mvvm</a>.</span>Model<span class="signature">(baseUrl<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h2>
        
            <div class="class-description"><p>Class that can be instantiated on its own or subclassed to connect to an API or represent a data model.</p></div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="Model"><span class="type-signature"></span>new Model<span class="signature">(baseUrl<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Sets up a Model instance.</p>
</div>



    <h5>Extends:</h5>
    


    <ul>
        <li><a href="external-EventTarget.html">external:EventTarget</a></li>
    </ul>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>baseUrl</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    window.location.href
                
                </td>
            

            <td class="description last"><p>Absolute URL that all routes will be relative to.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line135">line 135</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>If a subclass overrides a protected function (&quot;addRoute&quot;, &quot;heartbeat&quot;, &quot;cancelHeartbeat&quot;, &quot;createDataBinding&quot;)</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">TypeError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    







    
    </div>

    
        <h3 class="subsection-title">Extends</h3>

        


    <ul>
        <li><a href="external-EventTarget.html">external:EventTarget</a></li>
    </ul>


    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id=".Transform"><span class="type-signature">(static) </span>Transform<span class="type-signature"></span></h4>










    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>none</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns the raw <a href="external-Response.html">Response</a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>json</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Parses the response as JSON and returns it as an object.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>text</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Interprets the response as text and returns it as a string.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>arrayBuffer</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Interprets the response as binary data and returns it as an <a href="external-ArrayBuffer.html">ArrayBuffer</a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>blob</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Interprets the response as binary data and returns it as a <a href="external-Blob.html">Blob</a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>formData</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Parses the response as multipart/form-data and returns it as a <a href="external-FormData.html">FormData</a> object.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ok</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns true if the route returned an HTTP status code in the range of 200-299.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>status</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns the HTTP status code yielded by the route.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>headers</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns a key-value map of the route's HTTP response headers as a <a href="external-Headers.html">Headers</a> object.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>body</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns the raw response data as a <a href="external-ReadableStream.html">ReadableStream</a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>tee</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns an array of 2 identical <a href="external-ReadableStream.html">ReadableStream</a> objects containing the raw response data.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>reader</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Returns a <a href="external-ReadableStreamDefaultReader.html">ReadableStreamDefaultReader</a> for processing chunks.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>assign</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Parses the response as JSON and assigns the properties to the Model instance's data property. This is recommended for use with subclasses of Model.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>objectURL</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Creates an object URL from the response's binary data. Call <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL/revokeObjectURL">URL.revokeObjectURL()</a> when the object URL is no longer needed in order to prevent memory leaks.</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="data"><span class="type-signature"></span>data<span class="type-signature"> :<a href="external-Proxy.html">external:Proxy</a></span></h4>




<div class="description">
    <p>Object containing properties defined with <a href="module-micro-mvvm.Model.html#createDataBinding">module:micro-mvvm.Model#createDataBinding</a>().</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><a href="external-Proxy.html">external:Proxy</a></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line19">line 19</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="%5Broute%5D"><span class="type-signature"></span>[route]<span class="signature">(params<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="external-Response.html">external:Response</a>|any}</span></h4>
    

    



<div class="description">
    <p>Any route defined by <a href="module-micro-mvvm.Model.html#addRoute">addRoute()</a></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>query</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type"><a href="external-URLSearchParams.html">external:URLSearchParams</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Parameters to add as a query string</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>body</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="external-Blob.html">external:Blob</a></span>
|

<span class="param-type"><a href="external-FormData.html">external:FormData</a></span>
|

<span class="param-type"><a href="external-URLSearchParams.html">external:URLSearchParams</a></span>
|

<span class="param-type"><a href="external-ReadableStream.html">external:ReadableStream</a></span>
|

<span class="param-type">string</span>
|

<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Value to send as the body of the request.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>segments</code></td>
            

            <td class="type">
            
                
<span class="param-type">object.&lt;string, string></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Key-value pairs to substitute URL segments, for example if the route URL is /user/:id, params.segments could be {id: 1}</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>headers</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="external-Headers.html">external:Headers</a></span>
|

<span class="param-type">object.&lt;string, string></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Headers to add to the request</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line109">line 109</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Returns a Response object or the result of the route's transforms being called on the Response object if the route has transforms specified.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="external-Response.html">external:Response</a></span>
|

<span class="param-type">any</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="addRoute"><span class="type-signature"></span>addRoute<span class="signature">(name, routeUrl, fetchOptions<span class="signature-attributes">opt</span>, &hellip;transforms<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Adds a function to this Model instance with the key specified by the name parameter</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Symbol</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Name of the method to add to this instance</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>routeUrl</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">URL</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>URL of the resource this route requests, if it's a string it is resolved against this Model instance's base URL. The path can include named parameters that match the regex pattern &quot;:(.+?)(?=[^a-zA-Z0-9_]|$)&quot;, for example &quot;/users/:id&quot;. These can be substituted when the route is called.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fetchOptions</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Options to pass to the <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch">fetch API</a>.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>method</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    "GET"
                
                </td>
            

            <td class="description last"><p>HTTP method to use for the request.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>headers</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="external-Headers.html">external:Headers</a></span>
|

<span class="param-type">object.&lt;string, string></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>HTTP headers to add to the request. Some headers are set automatically if omitted, such as Content-Type.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>body</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="external-Blob.html">external:Blob</a></span>
|

<span class="param-type"><a href="external-FormData.html">external:FormData</a></span>
|

<span class="param-type"><a href="external-URLSearchParams.html">external:URLSearchParams</a></span>
|

<span class="param-type"><a href="external-ReadableStream.html">external:ReadableStream</a></span>
|

<span class="param-type">string</span>
|

<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Default body to send with the request. If a body is specified when calling the route, this value will be overriden.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>mode</code></td>
            

            <td class="type">
            
                
<span class="param-type">"cors"</span>
|

<span class="param-type">"no-cors"</span>
|

<span class="param-type">"same-origin"</span>
|

<span class="param-type">"navigate"</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    "cors"
                
                </td>
            

            <td class="description last"><p>CORS mode to use for the request.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>credentials</code></td>
            

            <td class="type">
            
                
<span class="param-type">"omit"</span>
|

<span class="param-type">"same-origin"</span>
|

<span class="param-type">"include"</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    "same-origin"
                
                </td>
            

            <td class="description last"><p>Controls cross-origin credentials.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cache</code></td>
            

            <td class="type">
            
                
<span class="param-type">"default"</span>
|

<span class="param-type">"no-store"</span>
|

<span class="param-type">"reload"</span>
|

<span class="param-type">"no-cache"</span>
|

<span class="param-type">"force-cache"</span>
|

<span class="param-type">"only-if-cached"</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    "default"
                
                </td>
            

            <td class="description last"><p>Sets the cache behavior.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>redirect</code></td>
            

            <td class="type">
            
                
<span class="param-type">"follow"</span>
|

<span class="param-type">"error"</span>
|

<span class="param-type">"manual"</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    "follow"
                
                </td>
            

            <td class="description last"><p>Sets the request behavior if an HTTP redirect is encountered.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>referrer</code></td>
            

            <td class="type">
            
                
<span class="param-type">""</span>
|

<span class="param-type">"about:client"</span>
|

<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    "about:client"
                
                </td>
            

            <td class="description last"><p>Sets the request referrer, can be &quot;&quot;, &quot;about:client&quot;, or a same-origin URL.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>referrerPolicy</code></td>
            

            <td class="type">
            
                
<span class="param-type">"no-referrer"</span>
|

<span class="param-type">"no-referrer-when-downgrade"</span>
|

<span class="param-type">"same-origin"</span>
|

<span class="param-type">"origin"</span>
|

<span class="param-type">"strict-origin"</span>
|

<span class="param-type">"origin-when-cross-origin"</span>
|

<span class="param-type">"strict-origin-when-cross-origin"</span>
|

<span class="param-type">"unsafe-url"</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Sets the request's referrer behavior.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>integrity</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    ""
                
                </td>
            

            <td class="description last"><p>The request's SRI value</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>keepalive</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>If true, makes it possible for the request to outlive the page.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>signal</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="external-AbortSignal.html">external:AbortSignal</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Signal to enable communication with an <a href="external-AbortController.html">external:AbortController</a> instance.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>transforms</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                    &lt;repeatable><br>
                
                </td>
            

            

            <td class="description last"><p>List of functions to manipulate the Response object, in order. Several are provided in <a href="module-micro-mvvm.Model.html#.Transform">module:micro-mvvm.Model.Transform</a>, but any functions can be provided that take an object as the first argument and (optionally) this Model's internal data object as the second, then return either the final value for the route to return or a value to be processed by the next transform.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line179">line 179</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="cancelHeartbeat"><span class="type-signature"></span>cancelHeartbeat<span class="signature">(route)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Stop and delete a heartbeat set up with Model.heartbeat(). Silently returns if the heartbeat is not set up or the route doesn't exist.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>route</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The route that was previously set up with Model.heartbeat().</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line296">line 296</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="createDataBinding"><span class="type-signature"></span>createDataBinding<span class="signature">(property, handler<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Set up properties on the Model's internal data object.
Keep in mind that routes are async, so if a getter is defined the property's value will be retrieved as a promise that resolves with the result of a route.
If a setter is defined the value will update synchronously but the route may not have completed by the next time the property's value is retrieved.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>property</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The name of the property to define for the Model's data object.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>handler</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Object to define getters and setters for the property.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>get</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Getter behavior for the property. Leave undefined for pass-through.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>route</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Route to call when the property's value is retrieved</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-micro-mvvm.Model.html#~proxyCallback">module:micro-mvvm.Model~proxyCallback</a></span>


            
            </td>

            

            

            <td class="description last"><p>Function to take the property's value and return valid route parameters.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>set</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Setter behavior for the property. Leave undefined for pass-through.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>route</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Route to call when the property's value is modified</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-micro-mvvm.Model.html#~proxyCallback">module:micro-mvvm.Model~proxyCallback</a></span>


            
            </td>

            

            

            <td class="description last"><p>Function to take the property's new value and return valid route parameters.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line306">line 306</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="heartbeat"><span class="type-signature"></span>heartbeat<span class="signature">(route, interval, heartbeatPayload)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Set up a route to be called on a regular interval. Model.addRoute() must be called first to create the route. Only one heartbeat can be set up per route.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>route</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The route to call on an interval.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>interval</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Millesconds between each call.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>heartbeatPayload</code></td>
            

            <td class="type">
            
                
<span class="param-type">any</span>


            
            </td>

            

            

            <td class="description last"><p>If the route's method is PUT, POST, or PATCH, the request body. Otherwise, query parameters.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line270">line 270</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="toJSON"><span class="type-signature"></span>toJSON<span class="signature">()</span><span class="type-signature"> &rarr; {object}</span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line327">line 327</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A deep clone of this Model's internal data object, valid JSON only.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">object</span>


    </dd>
</dl>

    





        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                

    

    
    <h4 class="name" id="~proxyCallback"><span class="type-signature"></span>proxyCallback<span class="signature">(value, data)</span><span class="type-signature"> &rarr; {object}</span></h4>
    

    



<div class="description">
    <p>Process a bound property's value before calling a route.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">any</span>


            
            </td>

            

            

            <td class="description last"><p>If called from a getter, the current value of the property. If called from a setter, the new value of the property.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>The model's internal data object.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line122">line 122</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>parameters for a <a href="module-micro-mvvm.Model.html#%255Broute%255D">route</a> function, in the format {query, body, segments, headers}.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">object</span>


    </dd>
</dl>

    





            
    

    
        <h3 class="subsection-title">Events</h3>

        
            

    

    
    <h4 class="name" id=".event:FailureEvent">FailureEvent</h4>
    

    



<div class="description">
    <p>Event emitted if the request or transforms fail (not if there's an HTTP error response).
Calling preventDefault() stops the Error object from being thrown.
Setting the responseOverride property causes the route to return the specified value if the event is handled and preventDefault() is called.</p>
</div>













    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>detail</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Data set if the route request or transforms fail that can be manipulated by an event listener.</p>
                <h6>Properties</h6>

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>requestURL</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">external:URL</span>


            
            </td>

            

            

            <td class="description last"><p>The URL requested. Modifying this in an event listener has no effect.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>requestOptions</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">external:URL</span>


            
            </td>

            

            

            <td class="description last"><p>Options passed to the <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch">fetch API</a>. Modifying this in an event listener has no effect.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>route</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The name of the route that triggered this event. Modifying this in an event listener has no effect.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>responseOverride</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>If preventDefault() is called on this event, this property can be set to cause the route to return the specified value.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line60">line 60</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".event:RequestEvent">RequestEvent</h4>
    

    



<div class="description">
    <p>Event emitted before sending the request for a route.
Calling preventDefault() prevents the request from being sent.</p>
</div>













    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>detail</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Data set by the route request that can be manipulated by an event listener.</p>
                <h6>Properties</h6>

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>url</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">external:URL</span>


            
            </td>

            

            

            <td class="description last"><p>URL of the request. This can be modified by an event listener.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Options to be passed to the <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch">fetch API</a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>route</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The name of the route that triggered this event. Modifying this in an event listener has no effect.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line25">line 25</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".event:ResponseEvent">ResponseEvent</h4>
    

    



<div class="description">
    <p>Event emitted before processing the response from a route.
Calling preventDefault() prevents any transforms from being called.</p>
</div>













    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>detail</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Data set after the route request completes that can be manipulated by an event listener.</p>
                <h6>Properties</h6>

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>response</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="external-Response.html">external:Response</a></span>


            
            </td>

            

            

            <td class="description last"><p>Response object from the request API. Event listeners can modify this to change what is sent to the route's transforms.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>requestURL</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">external:URL</span>


            
            </td>

            

            

            <td class="description last"><p>The URL requested. Modifying this in an event listener has no effect.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>requestOptions</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">external:URL</span>


            
            </td>

            

            

            <td class="description last"><p>Options passed to the <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch">fetch API</a>. Modifying this in an event listener has no effect.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>route</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The name of the route that triggered this event. Modifying this in an event listener has no effect.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Model.js.html">Model.js</a>, <a href="Model.js.html#line42">line 42</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-micro-mvvm.html">micro-mvvm</a></li></ul><h3>Externals</h3><ul><li><a href="external-AbortController.html">AbortController</a></li><li><a href="external-AbortSignal.html">AbortSignal</a></li><li><a href="external-ArrayBuffer.html">ArrayBuffer</a></li><li><a href="external-Blob.html">Blob</a></li><li><a href="external-CustomEvent.html">CustomEvent</a></li><li><a href="external-EventTarget.html">EventTarget</a></li><li><a href="external-FormData.html">FormData</a></li><li><a href="external-Headers.html">Headers</a></li><li><a href="external-HTMLElement.html">HTMLElement</a></li><li><a href="external-HTMLTemplateElement.html">HTMLTemplateElement</a></li><li><a href="external-Proxy.html">Proxy</a></li><li><a href="external-ReadableStream.html">ReadableStream</a></li><li><a href="external-ReadableStreamDefaultReader.html">ReadableStreamDefaultReader</a></li><li><a href="external-Response.html">Response</a></li><li><a href="external-ShadowRoot.html">ShadowRoot</a></li><li><a href="external-TypedArray.html">TypedArray</a></li><li><a href="external-URLSearchParams.html">URLSearchParams</a></li></ul><h3>Classes</h3><ul><li><a href="module-micro-mvvm.Component.html">Component</a></li><li><a href="module-micro-mvvm.Model.html">Model</a></li></ul><h3>Events</h3><ul><li><a href="module-micro-mvvm.Model.html#.event:FailureEvent">FailureEvent</a></li><li><a href="module-micro-mvvm.Model.html#.event:RequestEvent">RequestEvent</a></li><li><a href="module-micro-mvvm.Model.html#.event:ResponseEvent">ResponseEvent</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Sat Apr 17 2021 18:27:23 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>